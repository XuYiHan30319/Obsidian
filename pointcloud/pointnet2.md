
对于点云分割部分，主要有三个：
1. set abstraction部分，用于迭代从而得到局部点云的结构
2. FP上采样部分，用于进行分割

![[Pasted image 20240321164951.png]]
## SA部分
Sampling layer: 主要是针对输入点进行采样,在这些点中选出若干个中心点(采集方法代码中采用的是FPS的方法.)  
 Grouping layer:利用上一步得到的中心点将点集划分成若干个区域,可以设置不同的圆形半径以及每个圆形区域中最多的点的个数;  
Pointnet layer:对上述得到的每个区域进行编码,获得特征向量,将每个区域中的特征向量叠加在区域中心点的特征通道上,区域中心点的最开始特征通道为3(x,y,z三个坐标值.)
每一组提取层的输入是B\*N(\d+C),其中B是batch_size的大小,N是输入点的数量,d是坐标维度,C是特征维度,中心点集的维度是N'\*d,输出是B\*N'\*(d+C'),其中B是batch_size的大小,N'是输出点的数量,d是坐标维度,C'是特征维度.这里的B是不变的,N'即是采样后的中心点个数.C'是采样的特征维度.
首先是sampling layer，使用最远点采样算法选择N个点
然后是Grouping layer，使用ball query生成N'个区域，这里有两个变量,一个是球形区域的半径,一个是区域中点的数量K.