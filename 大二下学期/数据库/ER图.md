# 什么是ER图?
感觉和书上讲的不太一样
![[Pasted image 20230423215006.png]]
	每个箭头表示了一组关系,其中箭头上方标注的1..1表示至少1个,最多1个,其他同理,每个类可以有几个子类,例如
	![[Pasted image 20230423215129.png]]
表示owner有用个人用户和企业用户两种子类.父类就是子类的概括,子类就是父类的泛化.
其中,父类与子类的关系有两大类,第一类是参与约束,拥有可选或者强制两种约束,可选(optional)表示父类不一定是一种子类,而强制(mandatory)表示父类必须是子类
还有个叫做不相交约束,分为nondisjoint和joint,表示能否同时为多个子类
	
# ER图转变为表
![[Pasted image 20230423215540.png]]
通常情况下我们有三种类型的联系,1-1,1-m和m-n,1-1的情况可以写在一张表,也可以写在两张表,联系使用外键表示,一般加在查询次数较多的那一侧,1-m可以写两张,其中联系用外键表示,写在m那处,m-n就需要写在3张表,其中一张为专门的关系
防止数据冗余Redundancy
总而言之
1. 若联系为1:1：则联系可以转换成一个独立的关系模式，每个实体的码均为该关系的码，联系本身的属性也是该关系的属性。也可以与任意一端对应的关系模式合并，则将另一个关系模式的码和联系本身的属性加入到关系中。
2. 若联系为1:N：则联系可以转换成一个独立的关系模式，将各实体的码以及联系本身的属性转换成关系的属性，关系的码为N端实体的码。也可以与N端对应的关系模式合并，则将另一个关系模式的码和联系本身的属性加入到关系中。
3. 递归联系1:N: 则主键复制，重命名后作为外键，将其放一张表中。
4. 若联系为M:N：则联系转换成一个独立的关系模式。关系的码为各端实体的码的组合
